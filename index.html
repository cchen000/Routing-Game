<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网格路由小游戏 | Grid Routing Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Game status panel | 游戏状态面板 -->
        <div class="status-panel">
            <p>游戏难度 | Difficulty:</p>
            <select id="difficulty-select" class="difficulty-select">
                <option value="easy">简易模式 | Easy</option>
                <option value="medium">中等模式 | Medium</option>
                <option value="hard">困难模式 | Hard</option>
                <option value="free">自由模式 | Free Mode</option>
            </select>
            <div class="game-number-container">
                <label for="game-number">游戏编号：</label>
                <input type="number" id="game-number" min="1" value="1" class="game-number-input">
                <span class="game-number-total">/ 1</span>
            </div>
            <button id="restart-button" class="mode-button">重新开始 | Restart</button>
            <button id="mode-button" class="mode-button active">设置高亮点模式 | Point Mode</button>
            <p>已激活点数 | Active Points: <span id="current-points">0</span></p>
            <p>已用小棍数 | Used Sticks: <span id="used-sticks">0</span></p>
            <p>剩余可用小棍 | Remaining Sticks: <span id="remaining-sticks">10</span></p>
        </div>

        <!-- Game board container | 游戏面板容器 -->
        <div class="game-container">
            <div class="x-axis">
                <!-- X-axis labels will be generated by JS | x轴标签由JS生成 -->
            </div>
            <div class="y-axis">
                <!-- Y-axis labels will be generated by JS | y轴标签由JS生成 -->
            </div>
            <div id="grid-container"></div>
        </div>

        <!-- Game rules | 游戏规则说明 -->
        <div class="rules-panel">
            <h2>游戏规则 | Game Rules</h2>
            <div class="rule-section">
                <h3>游戏目标 | Objective</h3>
                <p>使用有限数量的小棍将所有红色高亮点连接起来。</p>
                <p>Connect all red highlighted points using a limited number of sticks.</p>
            </div>
            
            <div class="rule-section">
                <h3>难度设置 | Difficulty Levels</h3>
                <ul>
                    <li>简易模式 | Easy: 8根小棍 | 8 sticks</li>
                    <li>中等模式 | Medium: 12根小棍 | 12 sticks</li>
                    <li>困难模式 | Hard: 15根小棍 | 15 sticks</li>
                    <li>自由模式 | Free Mode: 无限制小棍，自由点位 | Unlimited sticks, free point placement</li>
                </ul>
            </div>
            
            <div class="rule-section">
                <h3>操作方法 | How to Play</h3>
                <ol>
                    <li>选择游戏难度 | Select difficulty level</li>
                    <li>点击"设置高亮点模式"可以手动设置红点 | Click "Point Mode" to manually set red points</li>
                    <li>点击"连接小棍模式"开始连接点 | Click "Stick Mode" to start connecting points</li>
                    <li>在连接模式下：| In connection mode:</li>
                    <ul>
                        <li>点击第一个点，相邻可连接点会高亮 | Click first point, adjacent connectable points will be highlighted</li>
                        <li>点击高亮点完成连接 | Click highlighted point to complete connection</li>
                        <li>点击已放置的小棍可以移除 | Click placed sticks to remove them</li>
                    </ul>
                </ol>
            </div>
            
            <div class="rule-section">
                <h3>胜利条件 | Victory Condition</h3>
                <p>当所有红色高亮点通过小棍相互连通时获得胜利。</p>
                <p>Victory is achieved when all red points are connected through sticks.</p>
            </div>
        </div>
    </div>

    <!-- Victory sound effect | 胜利音效 -->
    <audio id="victory-sound" preload="auto">
        <source src="sounds/victory.mp3" type="audio/mpeg">
        <source src="sounds/victory.ogg" type="audio/ogg">
        <source src="sounds/victory.wav" type="audio/wav">
        Your browser does not support the audio element. | 您的浏览器不支持音频元素。
    </audio>
    
    <!-- 添加游戏数据 -->
    <script type="text/javascript">
        window.GAME_POINTS_DATA = {
            "easy": {
                "maxSticks": 8,
                "presets": [
                    [
                        {"x": 2, "y": 2},
                        {"x": 3, "y": 5},
                        {"x": 7, "y": 2}
                    ],
                    [
                        {"x": 2, "y": 2},
                        {"x": 3, "y": 5},
                        {"x": 4, "y": 8}
                    ],
                ]
            },
            "medium": {
                "maxSticks": 12,
                "presets": [
                    [
                        {"x": 1, "y": 1},
                        {"x": 3, "y": 3},
                        {"x": 5, "y": 5},
                        {"x": 7, "y": 7},
                        {"x": 9, "y": 9}
                    ],
                    [
                        {"x": 2, "y": 8},
                        {"x": 4, "y": 6},
                        {"x": 6, "y": 4},
                        {"x": 8, "y": 2},
                        {"x": 5, "y": 5}
                    ]
                ]
            },
            "hard": {
                "maxSticks": 35,
                "presets": [
                    [
                        {"x": 1, "y": 4},
                        {"x": 1, "y": 1},
                        {"x": 2, "y": 7},
                        {"x": 4, "y": 3},
                        {"x": 5, "y": 9},
                        {"x": 5, "y": 0},
                        {"x": 6, "y": 8},
                        {"x": 7, "y": 6},
                        {"x": 8, "y": 0},
                        {"x": 9, "y": 9},
                        {"x": 10, "y": 5},
                        {"x": 10, "y": 2}
                    ]
                ]
            }
        };
    </script>
    
    <script src="script.js"></script>
</body>
</html>